<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- <link rel=”shortcut icon” type=”image/ico” href=”img/logo.ico” /> -->
    <title>Banco de Tiempo</title>
    <meta content="Grupo 7 UyA" name="Milton Rivas, Juan Carlos Vega" />
    <meta content="Descripción" name="Banco de Tiempo" />
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="css/materialize.min.css" media="screen" />
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <header>
        <div class="row">
            <nav class="encabezado" role="navigation">
                <div class="nav-wrapper" role="banner">
                    <div class="col l2 ">
                        <a id="logo-container" class="brand-logo" href="index.html">
                            <img class=" circle responsive-img logo" role="img"
                                src="https://blog.oxfamintermon.org/wp-content/uploads/2015/04/bancos-tiempo-726x470.jpg"
                                alt="logo de la página">
                        </a>
                    </div>
                    <div class="col l7 hide-on-med-and-down">
                        <ul class="hide-on-med-and-down">
                            <li><a href="TablónAnuncios.html" class="white-text">Tablón de Anuncios</a></li>
                            <li><a href="Login.html" class="white-text">Iniciar Sesión</a></li>
                        </ul>
                    </div>
                    <div class="col s5 l3 right" role="form">
                        <form>
                            <div class="input-field">
                                <input id="search" type="search" required>
                                <label class="label-icon" for="search"><i class="material-icons">search</i></label>
                                <i class="material-icons">close</i>
                            </div>
                        </form>
                    </div>


                    <ul id="nav-mobile" class="sidenav" role="list">
                        <li><a href="TablónAnuncios.html" class="black-text">Tablón de Anuncios</a></li>
                        <li><a href="Login.html" class="black-text">Iniciar Sesión</a></li>
                    </ul>
                    <a href="#" data-target="nav-mobile" class="sidenav-trigger "><i class="material-icons">menu</i></a>
                </div>

            </nav>

        </div>
    </header>
    <main>
        <div class="row login">
            <div class="col s12 l4 offset-l4">
                <div class="card">
                    <div class="card-action blue darken-4 white-text ">
                        <h2>Subir Anuncio</h2>
                    </div>
                    <div class="card-content">
                        <div class="form-field">
                            <label for="numID"> Identificación:</label>
                            <input type="number" placeholder="ingresa tu número de identificación" id="numID"
                                class="validate" required>

                        </div><br>

                        <div class="form-field">
                            <label for="DemOfer">Seleccione oferta o demanda</label>
                            <select name="tipo" id="DemOfer">
                                <option disabled selected>Seleccione</option>
                                <option value="Demandas">Demanda</option>
                                <option value="Ofertas">Oferta</option>
                            </select>

                        </div><br>

                        <div class="form-field">
                            <label for="Categoria">Seleccione la Categoria</label>
                            <select name="Categoria" id="Categoria">
                                <option disabled selected>Seleccione</option>
                                <option value="Clases">Clases</option>
                                <option value="Comprar">Comprar</option>
                            </select>
                        </div><br>

                        <div class="form-field">
                            <label for="nombre"> Nombre:</label>
                            <input type="text" placeholder="ingresa el nombre" id="nombre" class="validate" required>

                        </div><br>

                        <div class="form-field">
                            <label for="precio"> Precio:</label>
                            <input type="number" placeholder="ingresa el monto en timecoins" id="precio"
                                class="validate" required>
                        </div><br>

                        <div class="form-field">
                            <label for="titulo"> Titulo:</label>
                            <input type="text" placeholder="ingresa el titulo" id="titulo" class="validate" required>

                        </div><br>

                        <div class="form-field">
                            <label for="email"> Correo:</label>
                            <input type="email" placeholder="ingresa el email" id="email" class="validate" required>

                        </div><br>

                        <div class="form-field center-align">
                            <button class="btn-large blue darken-4" type="submit">Enviar</button>                            
                        </div><br>
                    </div>
                </div>
            </div>
        </div>  
    </main>
    <footer class="page-footer pie" role="contentinfo">
        <div class="container">
            <div class="row">
                <div class="col l6 s12">
                    <h5 class="black-text">Grupo 7 UyA:</h5>
                    <p class="black-text center-align">Milton Rivas, Juan Carlos Vega</p>
                </div>
            </div>
        </div>
        <div class="copyright">
            <div class="container black-text">
                © 2020 Copyright
            </div>
        </div>
    </footer>
 <script type="text/javascript" src="js/materialize.min.js"></script>

    <script src="https://www.gstatic.com/firebasejs/7.14.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.14.0/firebase-database.js"></script>
    <script>
        // Your web app's Firebase configuration
        var firebaseConfig = {
            apiKey: "AIzaSyBB_-T3egqteWTj60KbagKe6RToeIekEhU",
            authDomain: "grupo7-uya.firebaseapp.com",
            databaseURL: "https://grupo7-uya.firebaseio.com/",
            projectId: "grupo7-uya",
            storageBucket: "grupo7-uya.appspot.com",
            messagingSenderId: "76769975961",
            appId: "1:76769975961:web:025a22295af4f1da34a208",
            measurementId: "G-5N90BNX74S"
        };
        // Initialize Firebase

        firebase.initializeApp(firebaseConfig);
        var database = firebase.database();

        // var referencia = database.ref('Anuncios/Ofertas/0');

        var form = document.getElementById("formulario");

        if (form) {
            form.addEventListener('submit', formulario);
        }
        function formulario(event) {
            var ID = document.getElementById('numID').value;
            var nombre = document.getElementById('nombre').value;
            var tipo = document.getElementById("DemOfer").value;
            var categoria = document.getElementById("Categoria").value;
            var precio = document.getElementById('precio').value;
            var titulo = document.getElementById('titulo').value;
            var email = document.getElementById('email').value;
            const data = {
                'Categoría': categoria,
                'Nombre': nombre,
                'email': email,
                'Precio': precio + " timecoins",
                'Titulo': titulo
            };
            enviarForm(data, tipo, ID);
        }

        function enviarForm(data, tipo, id) {
            //Escribir un documento
            var referencia = database.ref('Anuncios/' + tipo + '/' + id);
            referencia.set(data);
        };

    </script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.0/jquery.js" type="text/javascript"></script>
    <!--Import jQuery before materialize.js-->
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/js/materialize.min.js"></script>

    <script type="text/javascript"> //inicializar select
        $(document).ready(function () {
            $('select').material_select();
        });
    </script>
</body>

</html>
